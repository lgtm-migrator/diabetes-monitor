-#  locals: f entry date (local)
= form_with model: entry, local: (local_assigns[:local] ? true : false), namespace: "new_entry_#{date.to_formatted_s(:number)}_" do |f|
  = hidden_field_tag 'entry[time_zone]', '', id: "new_entry_#{date.to_formatted_s(:number)}__time_zone", class: 'input-time-zone'
  .form-group.row
    = f.label :time, class: 'col-sm-2 col-form-label'
    .col-sm-5= f.datetime_select :time, order: [:day, :month, :year], end_year: Date.today.year, class: 'form-control'
  .form-group.row
    = f.label :tag, class: 'col-sm-2 col-form-label'
    .col-sm-5= f.select :tag, Entry.tags.keys.map { |key| [key.humanize, key] }, class: 'form-control'
  .form-group.row
    = f.label :blood_sugar, class: 'col-sm-2 col-form-label'
    .col-sm-5= f.number_field :blood_sugar, min: 0, step: 0.1, class: 'form-control'
  .form-group.row
    = f.label :insulin, class: 'col-sm-2 col-form-label'
    .col-sm-5= f.number_field :insulin, min: 0, step: 0.5, class: 'form-control'
  .form-group.row
    = f.label :notes, class: 'col-sm-2 col-form-label'
    .col-sm-5= f.text_area :notes, class: 'form-control'
  .form-group.row
    .col-sm-7= f.submit 'Save', class: 'btn btn-success btn-block'
